"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{160:(t,e,r)=>{r.d(e,{PronotronParallaxManagerProvider:()=>to,h:()=>ta});var i=r(4568),s=r(7620),n=r(3560),a=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(t,e,r)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f=(t,e)=>{for(var r in e||(e={}))u.call(e,r)&&d(t,r,e[r]);if(h)for(var r of h(e))c.call(e,r)&&d(t,r,e[r]);return t},g=(t,e)=>o(t,l(e)),m=(t,e,r)=>new Promise((i,s)=>{var n=t=>{try{o(r.next(t))}catch(t){s(t)}},a=t=>{try{o(r.throw(t))}catch(t){s(t)}},o=t=>t.done?i(t.value):Promise.resolve(t.value).then(n,a);o((r=r.apply(t,e)).next())}),p=class{setPixelRatio(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.t=t}updateResolution(t,e){let r=this.i;r.canvas,r.canvas.width=Math.floor(t*this.t),r.canvas.height=Math.floor(e*this.t),r.viewport(0,0,r.canvas.width,r.canvas.height)}render(t){let e=this.i;if(!t.material)return;if(!t.material.programInfo){let{vertex:e,fragment:r}=t.material;t.material.programInfo=this.u.createProgramInfo([e,r])}this.m(t),this._!==t.material.id&&(e.useProgram(t.material.programInfo.program),this._=t.material.id);let{x:r,y:i,w:s,h:n}=t.rect,{programInfo:{uniformsData:a}}=t.material,o={u_resolution:{value:{x:s,y:n}},u_pointer:{value:t.pointer},u_texture:{value:t.texture}};this.p.bindUniforms(a,o),this.v.bindVertexArray(t.vao),e.viewport(r,i,s,n),e.scissor(r,i,s,n),e.drawElements(e.TRIANGLES,t.geometry.index.count,e.UNSIGNED_SHORT,0),this.v.bindVertexArray(null),this.frame++}dispose(t){Object.values(t.geometry.attributes).forEach((t,e)=>{this.o.remove(t)}),this.o.remove(t.attributes[0].data),this.o.remove(t.geometry.index),this.i.deleteTexture(t.texture)}m(t){this.o.update(t.attributes[0].data,this.i.ARRAY_BUFFER),this.o.update(t.geometry.index,this.i.ELEMENT_ARRAY_BUFFER),t.vao||this.A(t)}A(t){let e=t.material.programInfo.attributesData;t.vao=this.v.createVertexArray(),this.v.bindVertexArray(t.vao),this.l.bindInterleavedAttributes(t.attributes,e,this.o.get(t.attributes[0].data)),this.l.bindIndices(this.o.get(t.geometry.index)),this.v.bindVertexArray(null)}R(t){let{v:e,o:r,l:i}=this,s=t.material.programInfo.attributesData;t.vao=e.createVertexArray(),e.bindVertexArray(t.vao),Object.values(t.geometry.attributes).forEach((t,e)=>{let n=s.find(e=>e.name===t.name),a=r.get(t);i.bindStandardAttribute(t,n,a)}),i.bindIndices(r.get(t.geometry.index)),e.bindVertexArray(null)}constructor(t){this.frame=0,this.t=1,this.i=t.context,this.o=t.buffersHelper,this.l=t.attributesHelper,this.u=t.programHelper,this.p=t.uniformsHelper,this.v=t.extensions;let e=this.i;e.enable(e.CULL_FACE),e.cullFace(e.FRONT),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.clearColor(0,0,0,1)}},y=class{createVertexArray(){return this.M.createVertexArrayOES()}bindVertexArray(t){this.M.bindVertexArrayOES(t)}constructor(t){this.M=t.getExtension("OES_vertex_array_object")}},x=class{createVertexArray(){return this.C.createVertexArray()}bindVertexArray(t){this.C.bindVertexArray(t)}constructor(t){this.T="2",this.C=t}},w=class{set(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}applyMatrix3(t){let e=this.x,r=this.y,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6],this.y=i[1]*e+i[4]*r+i[7],this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}*[Symbol.iterator](){yield this.x,yield this.y}constructor(t=0,e=0){this.x=t,this.y=e}},v=class{getX(t){let e=this.I(t);return this.array[e]}setX(t,e){let r=this.I(t);return this.array[r]=e,this}getY(t){let e=this.I(t)+1;return this.array[e]}setY(t,e){let r=this.I(t)+1;return this.array[r]=e,this}getZ(t){let e=this.I(t)+2;return this.array[e]}setZ(t,e){let r=this.I(t)+2;return this.array[r]=e,this}getW(t){let e=this.I(t)+3;return this.array[e]}setW(t,e){let r=this.I(t)+3;return this.array[r]=e,this}setXY(t,e,r){let i=this.I(t);return this.array[i+0]=e,this.array[i+1]=r,this}setXYZ(t,e,r,i){let s=this.I(t);return this.array[s+0]=e,this.array[s+1]=r,this.array[s+2]=i,this}setXYZW(t,e,r,i,s){let n=this.I(t);return this.array[n+0]=e,this.array[n+1]=r,this.array[n+2]=i,this.array[n+3]=s,this}},b=new w,E=0,A=class extends v{I(t){return t*this.itemSize}clearUpdateRanges(){this.updateRanges.length=0}onUploadCallback(){}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}applyPos(t){for(let e=0,r=this.count;e<r;e++)b.fromBufferAttribute(this,e),b.applyMatrix3(t),this.setXY(e,b.x,b.y)}constructor(t,e,r=!1){if(super(),this.isBufferAttribute=!0,this.version=0,this.name="",this.usage=35044,this.gpuType=1015,this.updateRanges=[],Array.isArray(t))throw TypeError("BufferAttribute: array should be a Typed Array.");this.array=t,this.itemSize=e,this.normalized=r,this.version=0,this.count=void 0!==t?t.length/e:0,E++,this.id=E}},T=class extends A{constructor(t,e){super(new Uint16Array(t),e)}},_=class extends A{constructor(t,e){super(new Float32Array(t),e)}},R=new class{set(t,e,r,i,s,n,a,o,l){let h=this.elements;return h[0]=t,h[1]=i,h[2]=a,h[3]=e,h[4]=s,h[5]=o,h[6]=r,h[7]=n,h[8]=l,this}makeTranslation(t,e){return this.set(1,0,t,0,1,e,0,0,1),this}constructor(){this.elements=[1,0,0,0,1,0,0,0,1]}},P=class t{translate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R.makeTranslation(t,e),this.attributes.position.applyPos(R)}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new T(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,e.name=t,this}deleteAttribute(t){return delete this.attributes[t],this}addGroup(t,e,r){this.groups.push({id:r,start:t,count:e})}constructor(){this.id=t.S++,this.name="",this.drawRange={start:0,count:1/0},this.index=null,this.attributes={},this.groups=[]}};P.S=0;var S=P,L=class extends S{constructor(t,e=1,r=1){super(),this.name="ParallaxGeometry";let i=0,s=Math.floor(e),n=Math.floor(r),a=s+1,o=n+1,l=1/s,h=1/n,u=[],c=[];for(let t=0;t<o;t++){let e=t*h-.5;for(let r=0;r<a;r++){let i=r*l-.5;u.push(i,-e),c.push(r/s),c.push(1-t/n)}}i=u.length/2;let d=[];for(let t=0;t<n;t++)for(let e=0;e<s;e++){let r=e+a*t,i=e+a*(t+1),s=e+1+a*(t+1),n=e+1+a*t;d.push(r,i,n),d.push(i,s,n)}let f=[],{w:g,h:m,x:p,y:y}=t.atlas.normalized;for(let t=0;t<4*i;t+=4)f[t+0]=g,f[t+1]=m,f[t+2]=p,f[t+3]=y;let x=[];for(let e=0;e<2*i;e+=2)x[e+0]=t.settings.parallax.x||0,x[e+1]=t.settings.parallax.y||0;let w=[];for(let e=0;e<2*i;e+=2)w[e+0]=t.atlas.w,w[e+1]=t.atlas.h;this.setIndex(d),this.setAttribute("position",new _(u,2)),this.setAttribute("uv",new _(c,2)),this.setAttribute("atlas",new _(f,4)),this.setAttribute("parallax",new _(x,2)),this.setAttribute("scale",new _(w,2))}},I=class{clearUpdateRanges(){this.updateRanges.length=0}onUploadCallback(){}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}constructor(t,e){this.version=0,this.usage=35044,this.updateRanges=[],this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0}},C=class extends v{get array(){return this.data.array}get count(){return this.data.count}I(t){return t*this.data.stride+this.offset}constructor(t,e,r,i=!1){super(),this.name="",this.data=t,this.itemSize=e,this.offset=r,this.normalized=i}},U=class{setPointer(t,e){this.pointer.x=t,this.pointer.y=e}setRect(t){this.rect=t,this.resize(t.w,t.h)}resize(t,e){let r=this.geometry.attributes.scale;this.U(t,e,r)}P(t){let e=[];for(let r of t){let t=new L(r);t.name=r.id,r.settings.translate&&t.translate(r.settings.translate.x,r.settings.translate.y),e.push(t)}return function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new S,i={},s=0;for(let n=0;n<t.length;++n){let a=t[n];for(let t in a.attributes){i[t]||(i[t]=[]);let e=a.attributes[t];e instanceof A&&i[t].push(e)}if(e&&a.index){let t=a.index.count;r.addGroup(s,t,a.name),s+=t}}let n=0,a=[];for(let e=0;e<t.length;++e){let r=t[e].index;for(let t=0;t<r.count;++t)a.push(r.getX(t)+n);n+=t[e].attributes.position.count}for(let t in r.setIndex(a),i){let e=function(t){let e=0,r=0;for(let i=0;i<t.length;++i){let s=t[i];0===e&&(e=s.itemSize),r+=s.array.length}let i=new Float32Array(r),s=0;for(let e=0;e<t.length;++e)i.set(t[e].array,s),s+=t[e].array.length;return new A(i,e)}(i[t]);r.setAttribute(t,e)}return r}(e,!0)}U(t,e,r){for(let{id:i,ratio:s,settings:n}of this.settings.layers){if(!n.fit)return;let a=0,o=0;if(n.fit.h?a=(o=e*n.fit.h)*s:n.fit.w&&(o=(a=t*n.fit.w)/s),!a||!o)throw Error("Scene: ".concat(this.settings.id,", scaling failed."));a=Math.floor(a),o=Math.floor(o);let l=this.geometry.groups.find(t=>t.id===i);for(let t=0;t<l.count;t++){let e=this.geometry.index.getX(l.start+t);r.setXY(e,a,o)}}r instanceof C?r.data.version++:r.version++}constructor(t){this.active=!0,this.pointer={x:.5,y:.5},this.rect={x:0,y:0,w:0,h:0},this.id=t.id,this.settings=t,this.geometry=this.P(t.layers),this.material=t.material,this.texture=t.texture,this.material.updateUniforms({u_texture:{value:this.texture}})}},M=class extends U{resize(t,e){let r=this.attributes.find(t=>"scale"===t.name);this.U(t,e,r)}$(){let t=function(t){let e,r=0,i=0;for(let s=0,n=t.length;s<n;++s){let n=t[s];if(void 0===e&&(e=n.array.constructor),e!==n.array.constructor)throw Error("Different array types cannot be interleaved");r+=n.array.length,i+=n.itemSize}let s=new I(new Float32Array(r),i),n=0,a=[],o=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let e=0,r=t.length;e<r;e++){let r=t[e],i=r.itemSize,h=r.count,u=new C(s,i,n);u.name=r.name,a.push(u),n+=i;for(let t=0;t<h;t++)for(let e=0;e<i;e++)u[l[e]](t,r[o[e]](t))}return a}(Object.values(this.geometry.attributes));this.attributes=t}constructor(t){super(t),this.$()}},O=class t{updateUniforms(t){this.uniforms=f(f({},this.uniforms),t)}constructor(e){this.id=t.S++;let{uniforms:r,vertex:i,fragment:s}=e,n=((t,e)=>{var r={};for(var i in t)u.call(t,i)&&0>e.indexOf(i)&&(r[i]=t[i]);if(null!=t&&h)for(var i of h(t))0>e.indexOf(i)&&c.call(t,i)&&(r[i]=t[i]);return r})(e,["uniforms","vertex","fragment"]);this.uniforms=r,this.vertex=i,this.fragment=s,this.shadingSettings=n}};O.S=0;var F=new O({vertex:"attribute vec2 position;attribute vec2 uv;attribute vec4 atlas;attribute vec2 parallax;attribute vec2 scale;uniform vec2 u_pointer;uniform vec2 u_resolution;varying vec2 vUv;void main(){vUv=(uv*atlas.xy)+atlas.zw;vec2 b0=position*scale;vec2 c0=(u_resolution-scale)/2.0;vec2 d0=(u_pointer*2.0)-1.0;vec2 e0=c0*parallax*d0;b0+=e0;vec2 f0=b0/u_resolution*vec2(2,-2);gl_Position=vec4(f0,0,1);}",fragment:"precision mediump float;uniform sampler2D u_texture;varying vec2 vUv;void main(){vec4 a0=texture2D(u_texture,vUv);gl_FragColor=vec4(a0.rgb,a0.a);}",transparent:!0,uniforms:{u_texture:{value:null},u_resolution:{value:{x:0,y:0}},u_pointer:{value:{x:.5,y:.5}}}}),X=class{initScene(t,e){return m(this,null,function*(){try{let{id:r,layers:i}=t;if(this.scenes.has(r)){let t=this.scenes.get(r);return t.active=!0,t}let s=yield this.k.loadImagesAsync(i,e),{image:n,data:a,hash:o}=yield this.L.merge(s,{alpha:!0}),l=this.L.createTexture(o,n,{premultiplyAlpha:!1});for(let{url:e,file:r}of(this.L.add("Merged:".concat(t.id),n),s))this.L.add(e,r);let h=i.map((t,e)=>{let r=a.atlas.find(e=>e.id===t.url);if(!r)throw Error("Texture packing error");return{id:"".concat(e),image:t.url,settings:t,atlas:r,ratio:r.w/r.h}}),u=new M({id:r,layers:h,texture:l,material:F});return this.scenes.set(u.id,u),u}catch(t){throw t}})}updateResolution(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.O.setPixelRatio(r),this.O.updateResolution(t,e)}dispose(t){for(let e of t.settings.layers)this.L.deleteImage(e.image);this.L.deleteImage("Merged:".concat(t.id)),this.O.dispose(t),this.scenes.delete(t.id)}render(){let t=this.W.gl;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.scenes.forEach(t=>{t.active&&this.O.render(t)})}constructor(t){this.scenes=new Map,this.k=t.loader,this.W=t.glController,this.O=t.renderController,this.L=t.resourceController}},B={alpha:!1,antialias:!1,depth:!1,stencil:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,powerPreference:"default",failIfMajorPerformanceCaveat:!1},N=class{B(t){try{this.canvas.addEventListener("webglcontextlost",function(t){t.preventDefault()},!1),this.canvas.addEventListener("webglcontextrestored",function(){},!1),this.canvas.addEventListener("webglcontextcreationerror",function(t){},!1);let e=["webgl2","webgl"];"1"===this.version&&e.shift();let r=this.D(e,t);if(null===r)throw this.D(e)?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");return r}catch(t){throw console.error("WebGL error: ".concat(t instanceof Error?t.message:"Unknown error.")),t}}D(t,e){for(let r=0;r<t.length;r++){let i=t[r],s=this.canvas.getContext(i,e);if(null!==s)return s}return null}constructor({canvas:t,version:e="2",attributes:r={}}){this.version=e,this.canvas=t,this.gl=this.B(f(f({},B),r))}},D=class{createTexture(t,e,r){let i=this.X.get(t);if(i)return i;let s=this.H.createTexture(e,r);return this.X.set(t,s),s}deleteImage(t){let e=this.F.get(t);e&&(e.close(),this.F.delete(t))}deleteTexture(t){this.X.delete(t)}add(t,e){this.F.has(t)||this.F.set(t,e)}merge(t){return m(this,arguments,function*(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alpha:!0},r=[...new Map(t.map(t=>[t.url,t])).values()],i=function(t){let e=[...t].sort().join("|"),r=0x811c9dc5;for(let t=0;t<e.length;t++)r^=e.charCodeAt(t),r=Math.imul(r,0x1000193);return(r>>>0).toString(16).padStart(8,"0")}(r.map(t=>t.url)),s=this.j.get(i);if(s)return s;try{let t=r.map(t=>({id:t.url,source:t.file})),s=this.V.pack(t),n=yield this.V.Y(s,!0,e);return this.j.set(i,{image:n,data:s,hash:i}),{image:n,data:s,hash:i}}catch(t){throw t}})}drawImageOnCanvas(t,e){this.V.displayImageBitmapOnScreen(t,{alpha:!1})}constructor(t){this.F=new Map,this.X=new Map,this.j=new Map,this.G=0,this.H=t.textureHelper,this.V=t.packer}},k=class{get(t){return this.buffers.get(t)}remove(t){let e=this.buffers.get(t);e&&(this.gl.deleteBuffer(e.buffer),this.buffers.delete(t))}update(t,e){let r=this.buffers.get(t);if(void 0!==r){if(r.version<t.version){if(r.size!==t.array.byteLength)throw Error("WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");return this.Z(r.buffer,t,e),void(r.version=t.version)}}else this.buffers.set(t,this.N(t,e))}N(t,e){let r,i=this.gl,s=t.array,n=t.usage,a=i.createBuffer();if(i.bindBuffer(e,a),i.bufferData(e,s,n),s instanceof Float32Array)r=i.FLOAT;else if("undefined"!=typeof Float16Array&&s instanceof Float16Array){if(i instanceof WebGLRenderingContext)throw Error("Float16Array only supported with WebGL 2");r=i.HALF_FLOAT}else if(s instanceof Uint16Array)if("isFloat16BufferAttribute"in t){if(i instanceof WebGLRenderingContext)throw Error("Uint16Array only supported with WebGL 2");r=i.HALF_FLOAT}else r=i.UNSIGNED_SHORT;else if(s instanceof Int16Array)r=i.SHORT;else if(s instanceof Uint32Array)r=i.UNSIGNED_INT;else if(s instanceof Int32Array)r=i.INT;else if(s instanceof Int8Array)r=i.BYTE;else if(s instanceof Uint8Array)r=i.UNSIGNED_BYTE;else{if(!(s instanceof Uint8ClampedArray))throw Error("WebGLAttributes: Unsupported buffer data format: "+s);r=i.UNSIGNED_BYTE}return{buffer:a,type:r,version:t.version,bytesPerElement:s.BYTES_PER_ELEMENT,size:s.byteLength}}Z(t,e,r){let i=this.gl,s=e.array,n=e.updateRanges;if(i.bindBuffer(r,t),0===n.length)i.bufferSubData(r,0,s);else{n.sort((t,e)=>t.start-e.start);let t=0;for(let e=1;e<n.length;e++){let r=n[t],i=n[e];i.start<=r.start+r.count+1?r.count=Math.max(r.count,i.start+i.count-r.start):n[++t]=i}n.length=t+1;for(let t=0,e=n.length;t<e;t++){let e=n[t];this.gl.bufferSubData(r,e.start*s.BYTES_PER_ELEMENT,s,e.start,e.count)}e.clearUpdateRanges()}e.onUploadCallback()}constructor(t){this.buffers=new WeakMap,this.gl=t}},z=class{createProgramInfo(t){let e=this.q(t,{position:0,uv:1,atlas:2});return{program:e,attributesData:this.K(e),uniformsData:this.J(e)}}q(t,e){let r=this.gl,i=t.map((t,e)=>{let i=r.createShader(0===e?r.VERTEX_SHADER:r.FRAGMENT_SHADER);if(!i)throw Error("Shader could not be created.");if(r.shaderSource(i,t),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS)){let t=r.getShaderSource(i),e=r.getShaderInfoLog(i);throw r.deleteShader(i),Error("Could not compile shader: ".concat(e,"\n\n").concat(t))}return i}),s=r.createProgram();if(i.forEach(t=>r.attachShader(s,t)),e&&Object.keys(e).forEach((t,e)=>{r.bindAttribLocation(s,e,t)}),r.linkProgram(s),!r.getProgramParameter(s,r.LINK_STATUS)){let t=r.getProgramInfoLog(s);throw r.deleteProgram(s),Error("Could not link program: ".concat(t))}return s}K(t){let e=this.gl,r=[],i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<i;++s){let i=e.getActiveAttrib(t,s);if(!i)throw Error("WebGLActiveInfo missing: Index '".concat(s,"'"));let n=i.name,a=e.getAttribLocation(t,n),o=n.startsWith("instance");r.push({name:i.name,size:i.size,type:i.type,location:a,instanced:o})}return r}J(t){let e=this.gl,r=0,i=[],s=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<s;n++){let s,a=e.getActiveUniform(t,n);if(!a)throw Error("WebGL UniformInfo missing: Index '".concat(n,"'"));let o=a.name;o.endsWith("[0]")&&(o=o.slice(0,-3));let l=e.getUniformLocation(t,a.name);if(!l)continue;let h=a.type===e.SAMPLER_2D||a.type===e.SAMPLER_CUBE,u=a.name.endsWith("[0]");switch(!0){case h:s={type:"TEXTURE",unit:r++};break;case u:s={type:"ARRAY"};break;default:s={type:"STANDARD"}}i.push({name:o,size:a.size,type:a.type,location:l,model:s})}return i}constructor(t){this.gl=t}},V=class{bindIndices(t){let e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.buffer)}bindStandardAttribute(t,e,r){let i=this.gl;i.bindBuffer(i.ARRAY_BUFFER,r.buffer),i.enableVertexAttribArray(e.location),i.vertexAttribPointer(e.location,t.itemSize,r.type,!1,0,0)}bindInterleavedAttributes(t,e,r){let i=this.gl;for(let s of(i.bindBuffer(i.ARRAY_BUFFER,r.buffer),t)){let t=e.find(t=>t.name===s.name);t?(i.enableVertexAttribArray(t.location),i.vertexAttribPointer(t.location,s.itemSize,r.type,!1,r.bytesPerElement*s.data.stride,r.bytesPerElement*s.offset)):console.error("Attribute '".concat(s.name,"' is not declared in the shader program."))}}constructor(t){this.gl=t}},H=class{bindUniforms(t,e){let r=this.gl;Object.keys(e).forEach(i=>{let s=t.find(t=>t.name===i);if(!s)return void delete e[i];let n=e[i].value;switch(s.model.type){case"TEXTURE":this.tt(s,n);break;case"ARRAY":throw Error("Unsupported uniform type: ".concat(s.type));case"STANDARD":switch(s.type){case r.FLOAT:this.et(s,n);break;case r.FLOAT_VEC2:this.st(s,[n.x,n.y]);break;case r.FLOAT_VEC3:this.rt(s,n);break;case r.FLOAT_VEC4:this.it(s,n);break;case r.FLOAT_MAT3:this.nt(s,n);break;default:throw Error("Unsupported uniform type: ".concat(s.type))}}})}tt(t,e){let r=this.gl,i=t.model;r.uniform1i(t.location,i.unit),r.activeTexture(r.TEXTURE0+i.unit),r.bindTexture(t.type===r.SAMPLER_2D?r.TEXTURE_2D:r.TEXTURE_CUBE_MAP,e)}et(t,e){this.gl.uniform1f(t.location,e)}st(t,e){this.gl.uniform2fv(t.location,e)}rt(t,e){this.gl.uniform3fv(t.location,e)}it(t,e){this.gl.uniform4fv(t.location,e)}nt(t,e){this.gl.uniformMatrix3fv(t.location,!1,e)}constructor(t){this.gl=t}},W={target:3553,level:0,min:9986,mag:9729,internalFormat:6408,format:6408,type:5121,wrap:10497,wrapS:10497,wrapT:10497,wrapR:10497,auto:!0},G=class{createTexture(t){var e,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.C,n=f(f({},W),i),{target:a,level:o,internalFormat:l,format:h,type:u}=n;e=t.width,r=t.height,(e&e-1||r&r-1)&&(n.min=s.LINEAR,n.mag=s.LINEAR,n.wrap=s.CLAMP_TO_EDGE);let c=s.createTexture();return s.bindTexture(a,c),this.ot(n),s.texImage2D(a,o,l,h,u,t),this.ht(a,n),c}ot(t){let e=this.C;void 0!==t.unpackAlignment&&this.ct(e.UNPACK_ALIGNMENT,t.unpackAlignment),void 0!==t.premultiplyAlpha&&this.ct(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),void 0!==t.flipY&&this.ct(e.UNPACK_FLIP_Y_WEBGL,t.flipY),void 0!==t.colorspaceConversion&&this.ct(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion)}ht(t,e){var r,i,s,n;let a=this.C,o=null!=(i=null!=(r=e.min)?r:e.minMag)?i:a.NEAREST_MIPMAP_NEAREST,l=null!=(n=null!=(s=e.mag)?s:e.minMag)?n:a.LINEAR;if(this.lt(t,a.TEXTURE_MIN_FILTER,o),this.lt(t,a.TEXTURE_MAG_FILTER,l),void 0!==e.wrap&&(this.lt(t,a.TEXTURE_WRAP_S,e.wrap),this.lt(t,a.TEXTURE_WRAP_T,e.wrap),"TEXTURE_WRAP_R"in a&&this.lt(t,a.TEXTURE_WRAP_R,e.wrap)),void 0!==e.wrapS&&this.lt(t,a.TEXTURE_WRAP_S,e.wrapS),void 0!==e.wrapT&&this.lt(t,a.TEXTURE_WRAP_T,e.wrapT),void 0!==e.wrapR&&"TEXTURE_WRAP_R"in a&&this.lt(t,a.TEXTURE_WRAP_R,e.wrapR),e.minLod&&a.TEXTURE_MIN_LOD&&this.ut(t,a.TEXTURE_MIN_LOD,e.minLod),e.maxLod&&a.TEXTURE_MAX_LOD&&this.ut(t,a.TEXTURE_MAX_LOD,e.maxLod),e.baseLevel&&a.TEXTURE_BASE_LEVEL&&this.lt(t,a.TEXTURE_BASE_LEVEL,e.baseLevel),e.maxLevel&&a.TEXTURE_MAX_LEVEL&&this.lt(t,a.TEXTURE_MAX_LEVEL,e.maxLevel),e.compareFunc&&a.TEXTURE_COMPARE_FUNC&&this.lt(t,a.TEXTURE_COMPARE_FUNC,e.compareFunc),e.compareMode&&a.TEXTURE_COMPARE_MODE&&this.lt(t,a.TEXTURE_COMPARE_MODE,e.compareMode),!1!==e.auto&&a.generateMipmap(t),e.aniso){let r=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");if(r){let i=a.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.ut(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i,e.aniso))}}}ct(t,e){this.C.pixelStorei(t,e)}lt(t,e,r){this.C.texParameteri(t,e,r)}ut(t,e,r){this.C.texParameterf(t,e,r)}constructor(t,e){this.C=t,this.T=e}},Y=class{Y(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0;return m(this,null,function*(){let i=Math.max(t.size.w,t.size.h),s,n,a=1;this.G<i?(a=this.G/i,s=t.size.w*a,n=t.size.h*a):(s=t.size.w,n=t.size.h);let{canvas:o,context:l}=this.ft(s,n,e,r);for(let e of t.atlas)l.drawImage(e.source,e.x,e.y,e.w,e.h);return yield createImageBitmap(o,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})}ft(t,e,r,i){let s=r?new OffscreenCanvas(t,e):document.createElement("canvas"),n=s.getContext("2d",i);if(!n)throw Error(r?"Failed to get OffscreenCanvas 2D context.":"Failed to get 2D context for texture packing.");return r||(s.width=t,s.height=e),{canvas:s,context:n}}displayImageBitmapOnScreen(t,e){let r=document.createElement("canvas"),i=r.getContext("2d",e);if(!i)throw Error("Context can't get while texture packing.");r.width=t.width,r.height=t.height,i.drawImage(t,0,0),document.body.appendChild(r)}constructor(t){this.G=t}},j=class extends Y{pack(t){if(!Array.isArray(t)||0===t.length)throw Error("TexturePacker.pack: images array must not be empty");let e=[...t].sort((t,e)=>e.source.width*e.source.height-t.source.width*t.source.height),r=e[0].source;this.dt={x:0,y:0,w:r.width,h:r.height,used:!1,right:null,down:null};let i=Array(e.length).fill(null);for(let t=0;t<e.length;t++){let r=e[t].source,s=r.width,n=r.height,a=this.wt(this.dt,s,n);if(i[t]=a?this.vt(a,s,n):this.gt(s,n),!i[t])throw Error("Texture packing failed for image at index ".concat(t," (").concat(e[t].id,")."))}let s=e.map((t,e)=>{let r=i[e];return{id:t.id,source:t.source,x:r.x,y:r.y,w:t.source.width,h:t.source.height}}),n={w:this.dt.w,h:this.dt.h};return{atlas:s.map(t=>g(f({},t),{normalized:{x:t.x/n.w,y:t.y/n.h,w:t.w/n.w,h:t.h/n.h}})),size:n}}wt(t,e,r){if(!t)return null;let i=[t];for(;i.length;){let t=i.pop();if(t){if(t.used)t.right&&i.push(t.right),t.down&&i.push(t.down);else if(e<=t.w&&r<=t.h)return t}}return null}vt(t,e,r){return t.used=!0,t.down={x:t.x,y:t.y+r,w:t.w,h:t.h-r,used:!1,right:null,down:null},t.right={x:t.x+e,y:t.y,w:t.w-e,h:r,used:!1,right:null,down:null},t}gt(t,e){if(!this.dt)return null;let r=t<=this.dt.w,i=e<=this.dt.h,s=i&&this.dt.h>=this.dt.w+t,n=r&&this.dt.w>=this.dt.h+e;return s?this.bt(t,e):n?this.yt(t,e):i?this.bt(t,e):r?this.yt(t,e):null}bt(t,e){if(!this.dt)return null;let r=this.dt;this.dt={used:!0,x:0,y:0,w:r.w+t,h:r.h,down:r,right:{x:r.w,y:0,w:t,h:r.h,used:!1,right:null,down:null}};let i=this.wt(this.dt,t,e);return i?this.vt(i,t,e):null}yt(t,e){if(!this.dt)return null;let r=this.dt;this.dt={used:!0,x:0,y:0,w:r.w,h:r.h+e,down:{x:0,y:r.h,w:r.w,h:e,used:!1,right:null,down:null},right:r};let i=this.wt(this.dt,t,e);return i?this.vt(i,t,e):null}constructor(){super(...arguments),this.dt=null}},q={enabled:!0,files:{},add(t,e){this.enabled&&(this.files[t]=e)},get(t){if(this.enabled)return this.files[t]},remove(t){delete this.files[t]},clear(){this.files={}}},Z=class{loadAsync(t,e){return new Promise((r,i)=>{this.load(t,r,e,i)})}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}constructor(){this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}},K=class{constructor(t,e,r){let i=this,s,n=!1,a=0,o=0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){o++,!1===n&&void 0!==i.onStart&&i.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(n=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){let e=l.indexOf(t);return -1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,r=l.length;e<r;e+=2){let r=l[e],i=l[e+1];if(r.global&&(r.lastIndex=0),r.test(t))return i}return null}}},J=new WeakMap,$=class extends Z{setOptions(t){return this.options=t,this}load(t,e,r,i){this.manager.onProgress=r,void 0!==this.path&&(t=this.path+t);let s=q.get("image-bitmap:".concat(t));if(void 0!==s)return this.manager.itemStart(t),s.then?void s.then(r=>{if(!0!==J.has(s))return null==e||e(r),this.manager.itemEnd(t),r;null==i||i(J.get(s)),this.manager.itemError(t),this.manager.itemEnd(t)}):(setTimeout(()=>{null==e||e(s),this.manager.itemEnd(t)},0),s);let n=fetch(new Request(t,{headers:new Headers(this.requestHeader),credentials:"anonymous"===this.crossOrigin?"same-origin":"include",signal:"function"==typeof AbortSignal.any?AbortSignal.any([this.xt.signal]):this.xt.signal})).then(function(t){return t.blob()}).then(t=>createImageBitmap(t,Object.assign(this.options,{colorSpaceConversion:"none"}))).then(r=>(q.add("image-bitmap:".concat(t),r),null==e||e(r),this.manager.itemEnd(t),r)).catch(e=>{null==i||i(e),J.set(n,e),q.remove("image-bitmap:".concat(t)),this.manager.itemError(t),this.manager.itemEnd(t)});q.add("image-bitmap:".concat(t),n),this.manager.itemStart(t)}abort(){return this.xt.abort(),this.xt=new AbortController,this}constructor(){super(...arguments),this.manager=new K,this.options={premultiplyAlpha:"none"},this.xt=new AbortController}},Q=class{loadImagesAsync(t,e){return m(this,null,function*(){try{let r=t.map(t=>m(this,null,function*(){return this._t.loadAsync(t.url,(t,r,i)=>{null==e||e(r/i*100)}).then(e=>({url:t.url,file:e})).catch(t=>{throw t})}));return yield Promise.all(r)}catch(t){throw t}})}constructor(){this._t=new $}},tt=class extends Error{constructor(t,e){super(t),this.response=e}},te={},tr=class extends Z{load(t,e,r,i){let s=!1,n=!1;"string"!=typeof t&&(s=t.url,n=t.sizeInBytes),n||(s=t),void 0!==this.path&&(s=this.path+s);let a=q.get("file:".concat(s));if(void 0!==a)return setTimeout(()=>null==e?void 0:e(a),0),a;if(void 0!==te[s])return void te[s].push({onLoad:e,onProgress:r,onError:i});te[s]=[],te[s].push({onLoad:e,onProgress:r,onError:i});let o=new Request(s,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:"function"==typeof AbortSignal.any?AbortSignal.any([this.xt.signal]):this.xt.signal});this.mimeType;let l=this.responseType;fetch(o).then(t=>{if(200===t.status||0===t.status){if(t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;let e=t.body.getReader(),r=null!=n?n:0;if(!n){let e=t.headers.get("X-File-Size")||t.headers.get("Content-Length");r=e?parseInt(e):0}let i=r>0,a=0;return new Response(new ReadableStream({start(t){!function n(){e.read().then(e=>{var o,l;let{done:h,value:u}=e;if(h)t.close();else{let e=new ProgressEvent("progress",{lengthComputable:i,loaded:a+=u.byteLength,total:r}),h=te[s];for(let t=0,r=h.length;t<r;t++)null==(l=(o=h[t]).onProgress)||l.call(o,e);t.enqueue(u),n()}},e=>{t.error(e)})}()}}))}throw new tt('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)}).then(t=>{switch(l){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json();default:throw Error("".concat(l,": no parser."))}}).then(t=>{var e,r;q.add("file:".concat(s),t);let i=te[s];delete te[s];for(let s=0,n=i.length;s<n;s++)null==(r=(e=i[s]).onLoad)||r.call(e,t)}).catch(t=>{var e,r;let i=te[s];if(void 0===i)throw t;delete te[s];for(let s=0,n=i.length;s<n;s++)null==(r=(e=i[s]).onError)||r.call(e,t)}).finally(()=>{})}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this.xt.abort(),this.xt=new AbortController,this}constructor(){super(...arguments),this.mimeType="",this.responseType="",this.xt=new AbortController}},ti=class extends Z{abort(){return this}load(t,e,r,i){this.At.setResponseType("blob"),this.At.load(t,t=>m(this,null,function*(){try{if(!(t instanceof Blob))throw Error("Expected Blob, but received "+typeof t);{let r=yield createImageBitmap(t,g(f({},this.options),{colorSpaceConversion:"none"}));null==e||e(r)}}catch(t){(i||console.error)(t)}}),r,i)}constructor(){super(),this.At=new tr,this.options={premultiplyAlpha:"none"}}},ts=class{loadImagesAsync(t,e){return m(this,null,function*(){try{let r=t.some(t=>t.sizeInBytes),i=new Map,s=new Map,n=r?this.Et(t):0,a=0,o=0,l=t.map(t=>m(this,null,function*(){let l=r?{url:t.url,sizeInBytes:t.sizeInBytes}:t.url;return this._t.loadAsync(l,l=>{((t,l)=>{let{loaded:h,total:u}=l;r||s.has(t)||(n+=u,i.set(t,u));let c=s.get(t)||0;a+=h-c,s.set(t,h);let d=Math.round(Math.min(a/n*100,100));d>o&&(o=d,null==e||e(d))})(t.url,l)}).then(e=>({url:t.url,file:e})).catch(e=>{throw n-=t.sizeInBytes||i.get(t.url)||0,e})}));return yield Promise.all(l)}catch(t){throw t}})}Et(t){return t.reduce((t,e)=>{if(!e.sizeInBytes)throw Error('Layer "'.concat(e.url,'" is missing the sizeInBytes property.'));return t+e.sizeInBytes},0)}constructor(){this._t=new ti}};let tn=(0,s.createContext)(void 0),ta=()=>{let t=(0,s.useContext)(tn);if(!t)throw Error("useParallaxManagerContext must be used within a PronotronParallaxManagerProvider");return t};function to(t){let{children:e}=t,r=(0,s.useRef)(null),[a,o]=(0,s.useState)(null);return(0,s.useLayoutEffect)(()=>{if(!r.current)return;let t=function(t){let e=new N(t),r=e.gl,i=e.version,s="advanced"===t.loader?new ts:new Q,n=new D({textureHelper:new G(r,i),packer:new j(8192)}),a="2"===i?new x(r):new y(r);return new X({glController:e,renderController:new p({context:r,extensions:a,buffersHelper:new k(r),programHelper:new z(r),attributesHelper:new V(r),uniformsHelper:new H(r)}),resourceController:n,loader:s})}({canvas:r.current,version:"2",attributes:{alpha:!1,depth:!1,stencil:!1,premultipliedAlpha:!0},loader:"advanced"});o(t);let e=new(window.ResizeObserver||n.tb)((e,i)=>{let{clientWidth:s,clientHeight:n}=r.current;t.updateResolution(s,n)});return e.observe(r.current),()=>{e.disconnect()}},[]),(0,s.useEffect)(()=>{if(!a)return;let t=0,e=()=>{a.render(),t=requestAnimationFrame(e)};return t=requestAnimationFrame(e),()=>cancelAnimationFrame(t)},[a]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("canvas",{ref:r,className:"flex w-full h-full fixed left-0 top-0 z-[-1]"}),a&&(0,i.jsx)(tn,{value:{parallaxManager:a},children:e})]})}},461:(t,e,r)=>{r.d(e,{ParallaxDebugProvider:()=>o,g:()=>a});var i=r(4568),s=r(7620);let n=(0,s.createContext)(void 0),a=()=>{let t=(0,s.useContext)(n);if(!t)throw Error("useParallaxDebugProviderContext must be used within a ParallaxDebugContext");return t};function o(t){let{children:e}=t,[r,a]=(0,s.useReducer)(l,[]);return(0,i.jsx)(n,{value:{scenes:r,dispatch:a},children:e})}function l(t,e){switch(e.type){case"add":return[...t,e.payload];case"change":return t.map(t=>t.id===e.payload.id?{...t,...e.payload}:t);case"delete":return t.filter(t=>t.id!==e.payload.id);default:throw Error("Unknown action: "+e.type)}}},2288:(t,e,r)=>{r.d(e,{PronotronPointerDataProvider:()=>l,k:()=>o});var i=r(4568),s=r(7620),n=r(3432);let a=(0,s.createContext)(void 0),o=()=>{let t=(0,s.useContext)(a);if(!t)throw Error("usePointerDataContext must be used within a PronotronPointerDataProvider");return t};function l(t){let{children:e}=t,{pointerController:r}=(0,n.G)(),{x:o,y:l}=r.getPosition(),[h,u]=(0,s.useState)({x:o,y:l}),[c,d]=(0,s.useState)({x:o,y:l}),f=(0,s.useRef)({x:o,y:l}),[g,m]=(0,s.useState)({x:0,y:0}),[p,y]=(0,s.useState)({x:0,y:0}),x=(0,s.useRef)({x:0,y:0}),w=(0,s.useRef)({x:0,y:0}),[v,b]=(0,s.useState)(""),[E,A]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let t=0,e=()=>{let i=r.getPosition();f.current.x+=(i.x-f.current.x)*.1,f.current.y+=(i.y-f.current.y)*.1,u({x:i.x,y:i.y}),d({x:f.current.x,y:f.current.y});let s=r.getDeltaAdditive();w.current.x=s.x-x.current.x,w.current.y=s.y-x.current.y,x.current.x+=.1*w.current.x,x.current.y+=.1*w.current.y,m(r.getDelta()),y(w.current),b(r.getState()),A(r.canInteract()),t=requestAnimationFrame(e)};return t=requestAnimationFrame(e),()=>{cancelAnimationFrame(t)}},[]),(0,i.jsx)(a,{value:{pointerPosition:h,pointerEasedPosition:c,pointerDelta:g,pointerDeltaAdditive:p,pointerTargetInteractable:E,pointerState:v},children:e})}},3432:(t,e,r)=>{r.d(e,{G:()=>h,PronotronPointerProvider:()=>u});var i=r(4568),s=r(7620),n=r(6297),a=r(7941);let o={tapThreshold:.25,idleThreshold:.5,holdThreshold:.1,movingDeltaLimit:10},l=(0,s.createContext)(void 0),h=()=>{let t=(0,s.useContext)(l);if(!t)throw Error("usePointerContext must be used within a PronotronPointerProvider");return t};function u(t){let{children:e}=t,r=(0,s.useRef)(new a.W1),h=(0,s.useRef)(new a.xQ(r.current)),[u,c]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let t=(0,n.j)({...o,startPosition:{x:window.innerWidth/2,y:window.innerHeight/2},target:window.document.body,animator:h.current,clock:r.current,isInteractable:e=>(t._test=e.closest(".parallaxScene"),!!(e.closest("a")||e.closest("button")||e.closest(".holdable"))),isHoldable:t=>!!t.closest(".parallaxScene")});t.startEvents();let e=0,i=()=>{r.current.tick(),h.current.tick(),e=requestAnimationFrame(i)};e=requestAnimationFrame(i);let s=()=>{document.hidden?r.current.pause():r.current.resume()};return document.addEventListener("visibilitychange",s),c(t),()=>{cancelAnimationFrame(e),document.removeEventListener("visibilitychange",s),t.stopEvents()}},[]),(0,s.useEffect)(()=>()=>{},[]),u)?(0,i.jsx)(l,{value:{pointerController:u,animatorRef:h},children:e}):null}},6978:(t,e,r)=>{r.d(e,{PronotronIOProvider:()=>u,u:()=>h});var i=r(4568),s=r(7620),n=r(7541),a=r(1310),o=r(3560);let l=(0,s.createContext)(null),h=()=>{let t=(0,s.useContext)(l);if(!t)throw Error("usePronotronIOContext must be used within a <PronotronIOProvider>");return t};function u(t){let{children:e}=t,r=(0,n.usePathname)(),h=(0,s.useMemo)(()=>new a._,[]),u=(0,s.useCallback)(()=>window.visualViewport?{height:window.visualViewport.height,offsetTop:window.visualViewport.offsetTop,scale:window.visualViewport.scale}:{height:window.innerHeight,offsetTop:0,scale:1},[]),c=(0,s.useCallback)(t=>{h.updateViewportLayout(t.offsetTop,t.offsetTop+t.height)},[]);return(0,s.useEffect)(()=>{window.scrollTo({top:0}),c(u()),h.setLastScroll(0),h.handleScroll(window.scrollY)},[r]),(0,s.useEffect)(()=>{let t=!1,e=0,{height:r,scale:i}=u(),s=()=>{t=!0},n=()=>{let i=u();r!==i.height&&(r=i.height,c(i),s()),t&&(h.handleScroll(window.scrollY),t=!1),e=requestAnimationFrame(n)};e=requestAnimationFrame(n),window.addEventListener("scroll",s,{passive:!0});let a=new(window.ResizeObserver||o.tb)(()=>{c(u()),h.updatePositions(document.documentElement.scrollHeight),s()});return a.observe(document.body),()=>{window.removeEventListener("scroll",s),cancelAnimationFrame(e),a.disconnect()}},[]),(0,i.jsx)(l,{value:{io:h},children:e})}}}]);