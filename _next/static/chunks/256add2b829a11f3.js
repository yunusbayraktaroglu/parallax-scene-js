(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90696,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(55984),r=e.i(67961),l=e.i(17854),i=e.i(91957),s=e.i(39108);function o({loaded:e,sceneID:n}){return(0,t.jsxs)("div",{className:"flex flex-col w-1/2 min-w-[100px] text-white",children:[(0,t.jsxs)("p",{className:"text-lg text-right text-green-500",children:[e,"%"]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-lg overflow-hidden",children:(0,t.jsx)("div",{className:"block bg-green-500 h-[10px] origin-left",style:{transform:`translate3d( 0, 0, 0 ) scaleX(${e/100})`}})}),(0,t.jsxs)("p",{className:"text-xs text-left mt-spacing-xs",children:["Scene: ",n]})]})}function u({id:e,layers:a,controlType:r="standard",controlRect:u="self",limitControl:x=!0}){let f=(0,n.useRef)(null),{scene:p,sceneRect:h,loaded:y}=function({id:e,layers:t,controlType:a,controlRect:r,limitControl:o,sceneRef:u}){let{dispatch:d}=(0,s.useParallaxDebugProviderContext)(),{parallaxManager:c}=(0,l.useParallaxManagerContext)(),{io:x}=(0,i.usePronotronIOContext)(),[f,p]=(0,n.useState)(),[h,y]=(0,n.useState)(0),[g,m]=(0,n.useState)(null),w=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{w.current||(w.current=!0,(async()=>{try{let n=await c.initScene({id:e,layers:t},e=>{y(Math.round(e))});y(100),setTimeout(()=>{p(n)},50),d({type:"add",payload:{id:n.id,layers:t,controlRect:r,controlType:a,limitControl:o,isActive:!0}})}catch(e){throw e}})())},[]),(0,n.useLayoutEffect)(()=>{let e=u.current;if(!f||!e)return;let t=()=>{let{left:t,right:n,bottom:a,top:l}=e.getBoundingClientRect(),i=n-t,s=a-l,o=window.innerHeight-a;if(r&&"self"!==r)if(r instanceof HTMLElement){let{left:e,right:t,bottom:n,top:a}=r.getBoundingClientRect();m({left:e,top:a,bottom:n,width:t-e,height:n-a})}else m({left:0,top:0,bottom:0,width:window.innerWidth,height:window.innerHeight});else m({left:t,top:l,bottom:a,width:i,height:s});f.setRect({x:t,y:o,w:i,h:s})},n=x.addNode({ref:e,onRemoveNode:()=>{d({type:"delete",payload:{id:f.id}})},dispatch:{onEnter:()=>{f.active=!0,d({type:"change",payload:{id:f.id,isActive:!0}})},onExit:()=>{f.active=!1,d({type:"change",payload:{id:f.id,isActive:!1}})},onInViewport:()=>{t()}},getBounds:()=>{let{top:t,bottom:n}=e.getBoundingClientRect();return{start:t+window.scrollY,end:n+window.scrollY}}});return t(),()=>{!1!==n&&x.removeNode(e),f.active=!1}},[f]),{scene:f,sceneRect:g,loaded:h}}({sceneRef:f,id:e,layers:a,controlType:r,controlRect:u,limitControl:x}),g=(0,n.useMemo)(()=>{if(!p||!h)return null;let e={scene:p,sceneRect:h,sceneRef:f,limitControl:x};return"glide"===r?(0,t.jsx)(c,{...e}):(0,t.jsx)(d,{...e})},[p,h,r,x,f]);return(0,t.jsx)("div",{ref:f,className:"parallaxScene flex w-full h-full items-center justify-center text-center",children:p&&h?g:(0,t.jsx)(o,{loaded:y,sceneID:e})})}function d({scene:e,sceneRect:t,sceneRef:l,limitControl:i}){let{pointerPosition:s}=(0,a.usePointerDataContext)(),{pointerController:o}=(0,r.usePointerContext)(),u=(0,n.useRef)(e.pointer);return(0,n.useEffect)(()=>{if(i&&l.current!==o._test)return;let n=(s.x-t.left)/t.width,a=(s.y-t.top)/t.height;u.current.x+=(n-e.pointer.x)*.1,u.current.y+=(a-e.pointer.y)*.1,u.current.x=Math.min(Math.max(u.current.x,0),1),u.current.y=Math.min(Math.max(u.current.y,0),1)},[t,s]),null}function c({scene:e,sceneRect:t,sceneRef:l,limitControl:i}){let{pointerDeltaAdditive:s,pointerPosition:o}=(0,a.usePointerDataContext)(),{pointerController:u}=(0,r.usePointerContext)();return(0,n.useEffect)(()=>{if(i&&l.current!==u._test)return;let{x:t,y:n}=e.pointer;t+=1e-4*s.x,n+=1e-4*s.y,t=Math.min(Math.max(t,0),1),n=Math.min(Math.max(n,0),1),e.setPointer(t,n)},[t,o]),null}e.s(["ParallaxScene",()=>u],90696)},37377,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(67961),r=e.i(90696);function l({id:e,layers:l,controlType:i,delay:s}){let{animatorRef:o}=(0,a.usePointerContext)(),[u,d]=(0,n.useState)(!1),[c,x]=(0,n.useState)(s);return((0,n.useEffect)(()=>{let t=o.current;t&&t.add({id:e,duration:s,autoPause:!0,onRender:(e,t,n)=>{x(n-Math.floor(e-t))},onEnd:e=>{e||d(!0)}})},[]),u)?(0,t.jsx)(r.ParallaxScene,{id:e,layers:l,controlType:i}):(0,t.jsx)("div",{className:"border flex items-center justify-center text-center",children:(0,t.jsx)("div",{className:"label p-spacing-sm rounded-xl bg-white",children:(0,t.jsx)("h1",{className:"w-16 h-auto",children:c})})})}let i=[{url:"images/parallax-1.png",sizeInBytes:548864,parallax:{x:.7,y:1},fit:{h:1.1}},{url:"images/parallax-3.png",sizeInBytes:430882,parallax:{x:.8,y:1},fit:{h:1.1}},{url:"images/parallax-motor.png",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:1.1}}],s=[{url:"images/parallax-1.png",sizeInBytes:548864,parallax:{x:.7,y:1},fit:{h:1.1}},{url:"images/parallax-2.png",sizeInBytes:471647,parallax:{x:.8,y:1},fit:{h:1.1}},{url:"images/parallax-motor.png",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:1.1}}];function o(){return(0,t.jsxs)("main",{className:"w-full h-full grid grid-cols-2 grid-rows-2 gap-spacing-sm",children:[(0,t.jsx)(l,{delay:1,id:"#multiple-1",layers:i,controlType:"standard"}),(0,t.jsx)(l,{delay:2,id:"#multiple-2",layers:s,controlType:"standard"}),(0,t.jsx)(l,{delay:3,id:"#multiple-3",layers:i,controlType:"standard"}),(0,t.jsx)(l,{delay:4,id:"#multiple-4",layers:s,controlType:"standard"})]})}e.s(["default",()=>o],37377)}]);