(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90696,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(55984),r=e.i(67961),l=e.i(17854),a=e.i(91957),s=e.i(39108);function o({loaded:e,sceneID:n}){return(0,t.jsxs)("div",{className:"flex flex-col w-1/2 min-w-[100px] text-white",children:[(0,t.jsxs)("p",{className:"text-lg text-right text-green-500",children:[e,"%"]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-lg overflow-hidden",children:(0,t.jsx)("div",{className:"block bg-green-500 h-[10px] origin-left",style:{transform:`translate3d( 0, 0, 0 ) scaleX(${e/100})`}})}),(0,t.jsxs)("p",{className:"text-xs text-left mt-spacing-xs",children:["Scene: ",n]})]})}function c({id:e,layers:i,controlType:r="standard",controlRect:c="self",limitControl:x=!0}){let f=(0,n.useRef)(null),{scene:h,sceneRect:g,loaded:p}=function({id:e,layers:t,controlType:i,controlRect:r,limitControl:o,sceneRef:c}){let{dispatch:u}=(0,s.useParallaxDebugProviderContext)(),{parallaxManager:d}=(0,l.useParallaxManagerContext)(),{io:x}=(0,a.usePronotronIOContext)(),[f,h]=(0,n.useState)(),[g,p]=(0,n.useState)(0),[m,y]=(0,n.useState)(null),w=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{w.current||(w.current=!0,(async()=>{try{let n=await d.initScene({id:e,layers:t},e=>{p(Math.round(e))});p(100),setTimeout(()=>{h(n)},50),u({type:"add",payload:{id:n.id,layers:t,controlRect:r,controlType:i,limitControl:o,isActive:!0}})}catch(e){throw e}})())},[]),(0,n.useLayoutEffect)(()=>{let e=c.current;if(!f||!e)return;let t=()=>{let{left:t,right:n,bottom:i,top:l}=e.getBoundingClientRect(),a=n-t,s=i-l,o=window.innerHeight-i;if(r&&"self"!==r)if(r instanceof HTMLElement){let{left:e,right:t,bottom:n,top:i}=r.getBoundingClientRect();y({left:e,top:i,bottom:n,width:t-e,height:n-i})}else y({left:0,top:0,bottom:0,width:window.innerWidth,height:window.innerHeight});else y({left:t,top:l,bottom:i,width:a,height:s});f.setRect({x:t,y:o,w:a,h:s})},n=x.addNode({ref:e,onRemoveNode:()=>{u({type:"delete",payload:{id:f.id}})},dispatch:{onEnter:()=>{f.active=!0,u({type:"change",payload:{id:f.id,isActive:!0}})},onExit:()=>{f.active=!1,u({type:"change",payload:{id:f.id,isActive:!1}})},onInViewport:()=>{t()}},getBounds:()=>{let{top:t,bottom:n}=e.getBoundingClientRect();return{start:t+window.scrollY,end:n+window.scrollY}}});return t(),()=>{!1!==n&&x.removeNode(e),f.active=!1}},[f]),{scene:f,sceneRect:m,loaded:g}}({sceneRef:f,id:e,layers:i,controlType:r,controlRect:c,limitControl:x}),m=(0,n.useMemo)(()=>{if(!h||!g)return null;let e={scene:h,sceneRect:g,sceneRef:f,limitControl:x};return"glide"===r?(0,t.jsx)(d,{...e}):(0,t.jsx)(u,{...e})},[h,g,r,x,f]);return(0,t.jsx)("div",{ref:f,className:"parallaxScene flex w-full h-full items-center justify-center text-center",children:h&&g?m:(0,t.jsx)(o,{loaded:p,sceneID:e})})}function u({scene:e,sceneRect:t,sceneRef:l,limitControl:a}){let{pointerPosition:s}=(0,i.usePointerDataContext)(),{pointerController:o}=(0,r.usePointerContext)(),c=(0,n.useRef)(e.pointer);return(0,n.useEffect)(()=>{if(a&&l.current!==o._test)return;let n=(s.x-t.left)/t.width,i=(s.y-t.top)/t.height;c.current.x+=(n-e.pointer.x)*.1,c.current.y+=(i-e.pointer.y)*.1,c.current.x=Math.min(Math.max(c.current.x,0),1),c.current.y=Math.min(Math.max(c.current.y,0),1)},[t,s]),null}function d({scene:e,sceneRect:t,sceneRef:l,limitControl:a}){let{pointerDeltaAdditive:s,pointerPosition:o}=(0,i.usePointerDataContext)(),{pointerController:c}=(0,r.usePointerContext)();return(0,n.useEffect)(()=>{if(a&&l.current!==c._test)return;let{x:t,y:n}=e.pointer;t+=1e-4*s.x,n+=1e-4*s.y,t=Math.min(Math.max(t,0),1),n=Math.min(Math.max(n,0),1),e.setPointer(t,n)},[t,o]),null}e.s(["ParallaxScene",()=>c],90696)},5907,e=>{"use strict";var t=e.i(43476),n=e.i(90696);let i=[{url:"images/grid.jpg",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:2}},{url:"images/grid.jpg",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:.5}}];function r(){return(0,t.jsx)("main",{className:"flex h-full w-full p-spacing-base landscape:p-spacing-xl",children:(0,t.jsx)(n.ParallaxScene,{id:"#limits-scene",layers:i,controlType:"standard",limitControl:!1})})}e.s(["default",()=>r])}]);