(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3987:(e,t,r)=>{Promise.resolve().then(r.bind(r,9008))},8012:(e,t,r)=>{"use strict";r.d(t,{C:()=>c});var a=r(4568),s=r(7620),n=r(8378),i=r(3560),l=r(9362);function c(e){let{id:t,layers:r}=e,c=(0,s.useRef)(null),{scene:u,sceneRect:h,loaded:o}=function(e,t){let{parallaxController:r}=(0,l.h)(),[a,n]=(0,s.useState)(),[c,u]=(0,s.useState)(0),[h,o]=(0,s.useState)({left:0,top:0,bottom:0,width:100,height:100}),f=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{f.current||(f.current=!0,(async()=>{try{let t=await r.initScene(e,e=>{u(e)});n(t),u(100)}catch(e){throw e}})())},[]),(0,s.useLayoutEffect)(()=>{let e=t.current;if(!a||!e)return;let r=new(window.ResizeObserver||i.tb)(()=>{let t=e.getBoundingClientRect(),r=t.right-t.left,s=t.bottom-t.top,n=t.left,i=t.top,l=window.innerHeight-t.bottom;a.setRect({x:n,y:l,w:r,h:s}),o({left:n,top:i,bottom:l,width:r,height:s})});return r.observe(e),()=>{r.disconnect(),a.active=!1}},[a]),{scene:a,sceneRect:h,loaded:c}}({id:t,layers:r},c),{pointerEasedPosition:f}=(0,n.k)();return(0,s.useEffect)(()=>{if(!u)return;let e=(f.x-h.left)/h.width,t=(f.y-h.top)/h.height;e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),u.setPointer(e,t)},[h,f]),(0,a.jsx)("div",{ref:c,className:"border parallaxScene flex items-center justify-center text-center",children:!u&&(0,a.jsxs)("div",{className:"label p-spacing-sm rounded-xl bg-white",children:[(0,a.jsxs)("h1",{className:"text-red text-sm",children:["Scene ",t]}),(0,a.jsxs)("h1",{className:"text-black text-sm",children:[o,"%"]})]})})}},9008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(4568),s=r(7620),n=r(9362),i=r(8012);let l=[{url:"images/parallax-1.png",sizeInBytes:548864,parallax:{x:.7,y:1},fit:{h:1.1}},{url:"images/parallax-3.png",sizeInBytes:430882,parallax:{x:.8,y:1},fit:{h:1.1}},{url:"images/parallax-motor.png",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:1.1}}];function c(){let{parallaxController:e}=(0,n.h)();return(0,s.useEffect)(()=>{let t=0,r=()=>{e.render(),t=requestAnimationFrame(r)};return t=requestAnimationFrame(r),()=>cancelAnimationFrame(t)},[]),(0,a.jsx)("div",{className:"grid grid-cols-1 grid-rows-1 gap-spacing-xs w-full h-full",children:(0,a.jsx)(i.C,{id:"#0",layers:l})})}}},e=>{e.O(0,[320,503,587,18,358],()=>e(e.s=3987)),_N_E=e.O()}]);