(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{9292:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var l=n(4568),a=n(9579);let r=[{url:"images/parallax-1.png",sizeInBytes:548864,parallax:{x:.3,y:1},fit:{h:1.075}},{url:"images/parallax-2.png",sizeInBytes:471647,parallax:{x:.6,y:1},fit:{h:1.05}},{url:"images/parallax-3.png",sizeInBytes:430882,parallax:{x:.6,y:1},fit:{h:1.05}},{url:"images/parallax-light.png",sizeInBytes:343443,parallax:{x:.8,y:1},fit:{h:1.25}},{url:"images/parallax-motor.png",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:1.025}},{url:"images/parallax-light.png",sizeInBytes:343443,parallax:{x:1,y:1},translate:{x:-.25},fit:{h:1.5}}];function i(){return(0,l.jsx)("main",{className:"flex h-full w-full p-spacing-xl",children:(0,l.jsx)(a.C,{layers:r,id:"#home-scene",controlRect:"window",controlType:"standard",limitControl:!1})})}},9579:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var l=n(4568),a=n(7620),r=n(2288),i=n(3432),s=n(160),c=n(6978),d=n(461);function o(e){let{loaded:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-end w-50",children:[(0,l.jsxs)("small",{children:[t,"%"]}),(0,l.jsx)("div",{className:"rounded-lg overflow-hidden bg-slate-700 w-full",children:(0,l.jsx)("div",{className:"block bg-green-500 h-[10px] origin-left",style:{transform:"translate3d( 0, 0, 0 ) scaleX(".concat(t/100,")")}})})]})}function u(e){let{id:t,layers:n,controlType:r="standard",controlRect:i="self",limitControl:u=!0}=e,f=(0,a.useRef)(null),{scene:p,sceneRect:g,loaded:m}=function(e){let{id:t,layers:n,controlType:l,controlRect:r,limitControl:i,sceneRef:o}=e,{dispatch:u}=(0,d.g)(),{parallaxManager:h}=(0,s.h)(),{io:x}=(0,c.u)(),[f,p]=(0,a.useState)(),[g,m]=(0,a.useState)(0),[y,w]=(0,a.useState)({left:0,top:0,bottom:0,width:100,height:100}),v=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{v.current||(v.current=!0,(async()=>{try{let e=await h.initScene({id:t,layers:n},e=>{m(e)});p(e),m(100),u({type:"add",payload:{id:e.id,layers:n,controlRect:r,controlType:l,limitControl:i,isActive:!0}})}catch(e){throw e}})())},[]),(0,a.useLayoutEffect)(()=>{let e=o.current;if(!f||!e)return;let t=()=>{let{left:t,right:n,bottom:l,top:a}=e.getBoundingClientRect(),i=n-t,s=l-a,c=window.innerHeight-l;if(r&&"self"!==r)if(r instanceof HTMLElement){let{left:e,right:t,bottom:n,top:l}=r.getBoundingClientRect();w({left:e,top:l,bottom:n,width:t-e,height:n-l})}else w({left:0,top:0,bottom:0,width:window.innerWidth,height:window.innerHeight});else w({left:t,top:a,bottom:l,width:i,height:s});f.setRect({x:t,y:c,w:i,h:s})},n=x.addNode({ref:e,onRemoveNode:()=>{u({type:"delete",payload:{id:f.id}})},dispatch:{onEnter:()=>{f.active=!0,u({type:"change",payload:{id:f.id,isActive:!0}})},onExit:()=>{f.active=!1,u({type:"change",payload:{id:f.id,isActive:!1}})},onInViewport:()=>{t()}},getBounds:()=>{let{top:t,bottom:n}=e.getBoundingClientRect();return{start:t+window.scrollY,end:n+window.scrollY}}});return t(),()=>{!1!==n&&x.removeNode(e),f.active=!1}},[f]),{scene:f,sceneRect:y,loaded:g}}({sceneRef:f,id:t,layers:n,controlType:r,controlRect:i,limitControl:u});return(0,l.jsx)("div",{ref:f,className:"parallaxScene flex w-full h-full items-center justify-center text-center",children:p?"glide"===r&&(0,l.jsx)(x,{scene:p,sceneRect:g,sceneRef:f,limitControl:u})||"standard"===r&&(0,l.jsx)(h,{scene:p,sceneRect:g,sceneRef:f,limitControl:u}):(0,l.jsxs)("div",{className:"label p-spacing-sm rounded-xl bg-white",children:[(0,l.jsx)(o,{loaded:m}),(0,l.jsxs)("h1",{className:"text-sm",children:["Scene ",t]})]})})}function h(e){let{scene:t,sceneRect:n,sceneRef:l,limitControl:s}=e,{pointerPosition:c}=(0,r.k)(),{pointerController:d}=(0,i.G)(),o=(0,a.useRef)(t.pointer);return(0,a.useEffect)(()=>{if(s&&l.current!==d._test)return;let e=(c.x-n.left)/n.width,a=(c.y-n.top)/n.height;o.current.x+=(e-t.pointer.x)*.1,o.current.y+=(a-t.pointer.y)*.1,o.current.x=Math.min(Math.max(o.current.x,0),1),o.current.y=Math.min(Math.max(o.current.y,0),1),t.setPointer(o.current.x,o.current.y)},[n,c]),null}function x(e){let{scene:t,sceneRect:n,sceneRef:l,limitControl:s}=e,{pointerDeltaAdditive:c,pointerEasedPosition:d}=(0,r.k)(),{pointerController:o}=(0,i.G)();return(0,a.useEffect)(()=>{if(s&&l.current!==o._test)return;let{x:e,y:n}=t.pointer;e+=1e-4*c.x,n+=1e-4*c.y,e=Math.min(Math.max(e,0),1),n=Math.min(Math.max(n,0),1),t.setPointer(e,n)},[n,d]),null}},9890:(e,t,n)=>{Promise.resolve().then(n.bind(n,9292))}},e=>{e.O(0,[311,736,587,18,358],()=>e(e.s=9890)),_N_E=e.O()}]);