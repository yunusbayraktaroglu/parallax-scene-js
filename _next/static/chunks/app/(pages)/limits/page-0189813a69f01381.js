(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{722:(e,t,n)=>{Promise.resolve().then(n.bind(n,9325))},9325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(4568),r=n(9579);let l=[{url:"images/grid.jpg",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:2}},{url:"images/grid.jpg",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:.5}}];function s(){return(0,i.jsx)("main",{className:"flex h-full w-full p-spacing-lg",children:(0,i.jsx)(r.C,{id:"#limits-scene",layers:l,controlType:"standard",limitControl:!1})})}},9579:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var i=n(4568),r=n(7620),l=n(2288),s=n(3432),a=n(160),c=n(6978),d=n(461);function u(e){let{loaded:t,sceneID:n}=e;return(0,i.jsxs)("div",{className:"flex flex-col w-1/2 min-w-[100px] text-white",children:[(0,i.jsxs)("small",{className:"text-right text-green-500",children:[t,"%"]}),(0,i.jsx)("div",{className:"w-full bg-slate-700 rounded-lg overflow-hidden",children:(0,i.jsx)("div",{className:"block bg-green-500 h-[10px] origin-left",style:{transform:"translate3d( 0, 0, 0 ) scaleX(".concat(t/100,")")}})}),(0,i.jsxs)("small",{className:"mt-spacing-xs",children:["Scene: ",n]})]})}function o(e){let{id:t,layers:n,controlType:l="standard",controlRect:s="self",limitControl:o=!0}=e,x=(0,r.useRef)(null),{scene:g,sceneRect:m,loaded:p}=function(e){let{id:t,layers:n,controlType:i,controlRect:l,limitControl:s,sceneRef:u}=e,{dispatch:o}=(0,d.g)(),{parallaxManager:f}=(0,a.h)(),{io:h}=(0,c.u)(),[x,g]=(0,r.useState)(),[m,p]=(0,r.useState)(0),[w,y]=(0,r.useState)({left:0,top:0,bottom:0,width:100,height:100}),v=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{v.current||(v.current=!0,(async()=>{try{let e=await f.initScene({id:t,layers:n},e=>{p(e)});g(e),p(100),o({type:"add",payload:{id:e.id,layers:n,controlRect:l,controlType:i,limitControl:s,isActive:!0}})}catch(e){throw e}})())},[]),(0,r.useLayoutEffect)(()=>{let e=u.current;if(!x||!e)return;let t=()=>{let{left:t,right:n,bottom:i,top:r}=e.getBoundingClientRect(),s=n-t,a=i-r,c=window.innerHeight-i;if(l&&"self"!==l)if(l instanceof HTMLElement){let{left:e,right:t,bottom:n,top:i}=l.getBoundingClientRect();y({left:e,top:i,bottom:n,width:t-e,height:n-i})}else y({left:0,top:0,bottom:0,width:window.innerWidth,height:window.innerHeight});else y({left:t,top:r,bottom:i,width:s,height:a});x.setRect({x:t,y:c,w:s,h:a})},n=h.addNode({ref:e,onRemoveNode:()=>{o({type:"delete",payload:{id:x.id}})},dispatch:{onEnter:()=>{x.active=!0,o({type:"change",payload:{id:x.id,isActive:!0}})},onExit:()=>{x.active=!1,o({type:"change",payload:{id:x.id,isActive:!1}})},onInViewport:()=>{t()}},getBounds:()=>{let{top:t,bottom:n}=e.getBoundingClientRect();return{start:t+window.scrollY,end:n+window.scrollY}}});return t(),()=>{!1!==n&&h.removeNode(e),x.active=!1}},[x]),{scene:x,sceneRect:w,loaded:m}}({sceneRef:x,id:t,layers:n,controlType:l,controlRect:s,limitControl:o});return(0,i.jsx)("div",{ref:x,className:"parallaxScene flex w-full h-full items-center justify-center text-center",children:g?"glide"===l&&(0,i.jsx)(h,{scene:g,sceneRect:m,sceneRef:x,limitControl:o})||"standard"===l&&(0,i.jsx)(f,{scene:g,sceneRect:m,sceneRef:x,limitControl:o}):(0,i.jsx)(u,{loaded:p,sceneID:t})})}function f(e){let{scene:t,sceneRect:n,sceneRef:i,limitControl:a}=e,{pointerPosition:c}=(0,l.k)(),{pointerController:d}=(0,s.G)(),u=(0,r.useRef)(t.pointer);return(0,r.useEffect)(()=>{if(a&&i.current!==d._test)return;let e=(c.x-n.left)/n.width,r=(c.y-n.top)/n.height;u.current.x+=(e-t.pointer.x)*.1,u.current.y+=(r-t.pointer.y)*.1,u.current.x=Math.min(Math.max(u.current.x,0),1),u.current.y=Math.min(Math.max(u.current.y,0),1),t.setPointer(u.current.x,u.current.y)},[n,c]),null}function h(e){let{scene:t,sceneRect:n,sceneRef:i,limitControl:a}=e,{pointerDeltaAdditive:c,pointerEasedPosition:d}=(0,l.k)(),{pointerController:u}=(0,s.G)();return(0,r.useEffect)(()=>{if(a&&i.current!==u._test)return;let{x:e,y:n}=t.pointer;e+=1e-4*c.x,n+=1e-4*c.y,e=Math.min(Math.max(e,0),1),n=Math.min(Math.max(n,0),1),t.setPointer(e,n)},[n,d]),null}}},e=>{e.O(0,[311,736,587,18,358],()=>e(e.s=722)),_N_E=e.O()}]);