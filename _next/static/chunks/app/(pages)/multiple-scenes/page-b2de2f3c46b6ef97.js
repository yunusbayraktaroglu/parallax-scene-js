(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{4062:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var n=l(4568),a=l(7620),r=l(3432),i=l(9579);function s(e){let{id:t,layers:l,controlType:s,delay:d}=e,{animatorRef:c}=(0,r.G)(),[o,u]=(0,a.useState)(!1),[x,h]=(0,a.useState)(d);return((0,a.useEffect)(()=>{let e=c.current;e&&e.add({id:t,duration:d,autoPause:!0,onRender:(e,t,l)=>{h(l-Math.floor(e-t))},onEnd:e=>{e||u(!0)}})},[]),o)?(0,n.jsx)(i.C,{id:t,layers:l,controlType:s}):(0,n.jsx)("div",{className:"border flex items-center justify-center text-center",children:(0,n.jsx)("div",{className:"label p-spacing-sm rounded-xl bg-white",children:(0,n.jsx)("h1",{className:"w-16 h-auto",children:x})})})}let d=[{url:"images/parallax-1.png",sizeInBytes:548864,parallax:{x:.7,y:1},fit:{h:1.1}},{url:"images/parallax-3.png",sizeInBytes:430882,parallax:{x:.8,y:1},fit:{h:1.1}},{url:"images/parallax-motor.png",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:1.1}}],c=[{url:"images/parallax-1.png",sizeInBytes:548864,parallax:{x:.7,y:1},fit:{h:1.1}},{url:"images/parallax-2.png",sizeInBytes:471647,parallax:{x:.8,y:1},fit:{h:1.1}},{url:"images/parallax-motor.png",sizeInBytes:425055,parallax:{x:1,y:1},fit:{h:1.1}}];function o(){return(0,n.jsxs)("main",{className:"w-full h-full grid grid-cols-2 grid-rows-2 gap-spacing-sm",children:[(0,n.jsx)(s,{delay:1,id:"#multiple-1",layers:d,controlType:"standard"}),(0,n.jsx)(s,{delay:2,id:"#multiple-2",layers:c,controlType:"standard"}),(0,n.jsx)(s,{delay:3,id:"#multiple-3",layers:d,controlType:"standard"}),(0,n.jsx)(s,{delay:4,id:"#multiple-4",layers:c,controlType:"standard"})]})}},7980:(e,t,l)=>{Promise.resolve().then(l.bind(l,4062))},9579:(e,t,l)=>{"use strict";l.d(t,{C:()=>u});var n=l(4568),a=l(7620),r=l(2288),i=l(3432),s=l(160),d=l(6978),c=l(461);function o(e){let{loaded:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-end w-50",children:[(0,n.jsxs)("small",{children:[t,"%"]}),(0,n.jsx)("div",{className:"rounded-lg overflow-hidden bg-slate-700 w-full",children:(0,n.jsx)("div",{className:"block bg-green-500 h-[10px] origin-left",style:{transform:"translate3d( 0, 0, 0 ) scaleX(".concat(t/100,")")}})})]})}function u(e){let{id:t,layers:l,controlType:r="standard",controlRect:i="self",limitControl:u=!0}=e,f=(0,a.useRef)(null),{scene:p,sceneRect:y,loaded:m}=function(e){let{id:t,layers:l,controlType:n,controlRect:r,limitControl:i,sceneRef:o}=e,{dispatch:u}=(0,c.g)(),{parallaxManager:x}=(0,s.h)(),{io:h}=(0,d.u)(),[f,p]=(0,a.useState)(),[y,m]=(0,a.useState)(0),[g,w]=(0,a.useState)({left:0,top:0,bottom:0,width:100,height:100}),j=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{j.current||(j.current=!0,(async()=>{try{let e=await x.initScene({id:t,layers:l},e=>{m(e)});p(e),m(100),u({type:"add",payload:{id:e.id,layers:l,controlRect:r,controlType:n,limitControl:i,isActive:!0}})}catch(e){throw e}})())},[]),(0,a.useLayoutEffect)(()=>{let e=o.current;if(!f||!e)return;let t=()=>{let{left:t,right:l,bottom:n,top:a}=e.getBoundingClientRect(),i=l-t,s=n-a,d=window.innerHeight-n;if(r&&"self"!==r)if(r instanceof HTMLElement){let{left:e,right:t,bottom:l,top:n}=r.getBoundingClientRect();w({left:e,top:n,bottom:l,width:t-e,height:l-n})}else w({left:0,top:0,bottom:0,width:window.innerWidth,height:window.innerHeight});else w({left:t,top:a,bottom:n,width:i,height:s});f.setRect({x:t,y:d,w:i,h:s})},l=h.addNode({ref:e,onRemoveNode:()=>{u({type:"delete",payload:{id:f.id}})},dispatch:{onEnter:()=>{f.active=!0,u({type:"change",payload:{id:f.id,isActive:!0}})},onExit:()=>{f.active=!1,u({type:"change",payload:{id:f.id,isActive:!1}})},onInViewport:()=>{t()}},getBounds:()=>{let{top:t,bottom:l}=e.getBoundingClientRect();return{start:t+window.scrollY,end:l+window.scrollY}}});return t(),()=>{!1!==l&&h.removeNode(e),f.active=!1}},[f]),{scene:f,sceneRect:g,loaded:y}}({sceneRef:f,id:t,layers:l,controlType:r,controlRect:i,limitControl:u});return(0,n.jsx)("div",{ref:f,className:"parallaxScene flex w-full h-full items-center justify-center text-center",children:p?"glide"===r&&(0,n.jsx)(h,{scene:p,sceneRect:y,sceneRef:f,limitControl:u})||"standard"===r&&(0,n.jsx)(x,{scene:p,sceneRect:y,sceneRef:f,limitControl:u}):(0,n.jsxs)("div",{className:"label p-spacing-sm rounded-xl bg-white",children:[(0,n.jsx)(o,{loaded:m}),(0,n.jsxs)("h1",{className:"text-sm",children:["Scene ",t]})]})})}function x(e){let{scene:t,sceneRect:l,sceneRef:n,limitControl:s}=e,{pointerPosition:d}=(0,r.k)(),{pointerController:c}=(0,i.G)(),o=(0,a.useRef)(t.pointer);return(0,a.useEffect)(()=>{if(s&&n.current!==c._test)return;let e=(d.x-l.left)/l.width,a=(d.y-l.top)/l.height;o.current.x+=(e-t.pointer.x)*.1,o.current.y+=(a-t.pointer.y)*.1,o.current.x=Math.min(Math.max(o.current.x,0),1),o.current.y=Math.min(Math.max(o.current.y,0),1),t.setPointer(o.current.x,o.current.y)},[l,d]),null}function h(e){let{scene:t,sceneRect:l,sceneRef:n,limitControl:s}=e,{pointerDeltaAdditive:d,pointerEasedPosition:c}=(0,r.k)(),{pointerController:o}=(0,i.G)();return(0,a.useEffect)(()=>{if(s&&n.current!==o._test)return;let{x:e,y:l}=t.pointer;e+=1e-4*d.x,l+=1e-4*d.y,e=Math.min(Math.max(e,0),1),l=Math.min(Math.max(l,0),1),t.setPointer(e,l)},[l,c]),null}}},e=>{e.O(0,[311,736,587,18,358],()=>e(e.s=7980)),_N_E=e.O()}]);